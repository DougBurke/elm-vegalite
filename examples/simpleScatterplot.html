<!DOCTYPE html>
<html>
  <head>
    <title>Simple Scatterplot Generated with elm-vega</title>
    <meta charset="utf-8" />

    <!-- These scripts link to the Vega/Vega-Lite runtime -->
    <!-- TODO: Replace the github link to vega.min.js with npm/vega@5 once released:
         <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    -->
    <script src="https://vega.github.io/vega/vega.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc13"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

    <!-- This is the script generated from Elm -->
    <script src="js/simpleScatterplot.js"></script>
  </head>

  <body>
    <h1>Simple Scatterplot Generated with elm-vega</h1>

    <!-- The id indicates the container in which to embed the Vega-Lite output. -->
    <div id="scatter"></div>

    <script>
      Elm.SimpleScatterplot.init().ports.elmToJS.subscribe(function(
        namedSpecs
      ) {
        for (let name of Object.keys(namedSpecs)) {
          vegaEmbed(`#${name}`, namedSpecs[name], {
            actions: false,
            logLevel: vega.Warn
          }).catch(console.warn);
        }
      });
    </script>
  </body>
</html>
